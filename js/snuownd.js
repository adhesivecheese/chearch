!function(e){function n(e){return" "==e||"\n"==e}function t(e){return/[\x09-\x0d ]/.test(e)}function l(e){return/[A-Za-z0-9]/.test(e)}function r(e){return/[A-Za-z]/.test(e)}function s(e){return/[0-9]/.test(e)}function a(e){return/[0-9a-fA-F]/.test(e)}function i(e){return/[\x20-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]/.test(e)}function c(e){return"%"+"0123456789ABCDEF"[(240&e)>>4]+"0123456789ABCDEF"[(15&e)>>0]}function o(e){var n=e.charCodeAt(0);if(n<128)return c(n);if(n>127&&n<2048){var t=c(n>>6&255|192);return t+=c(n>>0&63|128)}t=c(n>>12&255|224);return t+=c(n>>6&63|128),t+=c(n>>0&63|128)}function u(e,n){var l,r=0,s=e.length;if(s<3||"<"!=e[0])return Ye;"/"==e[l=1]&&(r=1,l++);for(var a=0;l<s&&!(a>=n.length);++l,++a)if(e[l]!=n[a])return Ye;return l==s?Ye:t(e[l])||">"==e[l]?r?je:Ze:Ye}function f(e,n){for(var t,l=0;l<n.s.length;){for(t=l;l<n.s.length&&"\\"!=n.s[l];)l++;if(l>t&&(e.s+=n.s.slice(t,l)),l+1>=n.s.length)break;e.s+=n.s[l+1],l+=2}}var h=1114111;var g=7,p=["&AElig;","&Aacute;","&Acirc;","&Agrave;","&Alpha;","&Aring;","&Atilde;","&Auml;","&Beta;","&Ccedil;","&Chi;","&Dagger;","&Delta;","&ETH;","&Eacute;","&Ecirc;","&Egrave;","&Epsilon;","&Eta;","&Euml;","&Gamma;","&Iacute;","&Icirc;","&Igrave;","&Iota;","&Iuml;","&Kappa;","&Lambda;","&Mu;","&Ntilde;","&Nu;","&OElig;","&Oacute;","&Ocirc;","&Ograve;","&Omega;","&Omicron;","&Oslash;","&Otilde;","&Ouml;","&Phi;","&Pi;","&Prime;","&Psi;","&Rho;","&Scaron;","&Sigma;","&THORN;","&Tau;","&Theta;","&Uacute;","&Ucirc;","&Ugrave;","&Upsilon;","&Uuml;","&Xi;","&Yacute;","&Yuml;","&Zeta;","&aacute;","&acirc;","&acute;","&aelig;","&agrave;","&alefsym;","&alpha;","&amp;","&and;","&ang;","&apos;","&aring;","&asymp;","&atilde;","&auml;","&bdquo;","&beta;","&brvbar;","&bull;","&cap;","&ccedil;","&cedil;","&cent;","&chi;","&circ;","&clubs;","&cong;","&copy;","&crarr;","&cup;","&curren;","&dArr;","&dagger;","&darr;","&deg;","&delta;","&diams;","&divide;","&eacute;","&ecirc;","&egrave;","&empty;","&emsp;","&ensp;","&epsilon;","&equiv;","&eta;","&eth;","&euml;","&euro;","&exist;","&fnof;","&forall;","&frac12;","&frac14;","&frac34;","&frasl;","&gamma;","&ge;","&gt;","&hArr;","&harr;","&hearts;","&hellip;","&iacute;","&icirc;","&iexcl;","&igrave;","&image;","&infin;","&int;","&iota;","&iquest;","&isin;","&iuml;","&kappa;","&lArr;","&lambda;","&lang;","&laquo;","&larr;","&lceil;","&ldquo;","&le;","&lfloor;","&lowast;","&loz;","&lrm;","&lsaquo;","&lsquo;","&lt;","&macr;","&mdash;","&micro;","&middot;","&minus;","&mu;","&nabla;","&nbsp;","&ndash;","&ne;","&ni;","&not;","&notin;","&nsub;","&ntilde;","&nu;","&oacute;","&ocirc;","&oelig;","&ograve;","&oline;","&omega;","&omicron;","&oplus;","&or;","&ordf;","&ordm;","&oslash;","&otilde;","&otimes;","&ouml;","&para;","&part;","&permil;","&perp;","&phi;","&pi;","&piv;","&plusmn;","&pound;","&prime;","&prod;","&prop;","&psi;","&quot;","&rArr;","&radic;","&rang;","&raquo;","&rarr;","&rceil;","&rdquo;","&real;","&reg;","&rfloor;","&rho;","&rlm;","&rsaquo;","&rsquo;","&sbquo;","&scaron;","&sdot;","&sect;","&shy;","&sigma;","&sigmaf;","&sim;","&spades;","&sub;","&sube;","&sum;","&sup1;","&sup2;","&sup3;","&sup;","&supe;","&szlig;","&tau;","&there4;","&theta;","&thetasym;","&thinsp;","&thorn;","&tilde;","&times;","&trade;","&uArr;","&uacute;","&uarr;","&ucirc;","&ugrave;","&uml;","&upsih;","&upsilon;","&uuml;","&weierp;","&xi;","&yacute;","&yen;","&yuml;","&zeta;","&zwj;","&zwnj;"],k=[7,7,7,7,7,7,7,7,7,0,0,7,7,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,1,0,0,0,2,3,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,5,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=["","&quot;","&amp;","&#39;","&#47;","&lt;","&gt;",""];function v(e,n,t){for(var l,r=0,s=0;r<n.length;){for(l=r;r<n.length&&!(s=k[n.charCodeAt(r)]);)r++;if(r>l&&(e.s+=n.slice(l,r)),r>=n.length)break;"/"!=n[r]||t?7==k[n.charCodeAt(r)]||(e.s+=b[s]):e.s+="/",r++}}var d=[2,2,2,2,2,2,2,2,2,0,0,2,2,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function m(e,n){for(var t,l=0;l<n.length;){for(t=l;l<n.length&&1===d[n.charCodeAt(l)];)l++;if(l>t&&(e.s+=n.slice(t,l)),l>=n.length)break;if(2!=d[n.charCodeAt(l)]){switch(n[l]){case"&":e.s+="&amp;";break;case"'":e.s+="&#x27;";break;default:e.s+=o(n[l])}l++}else l++}}function _(e,n,t,l){var s,a,i=e.slice(t),c=0;for(a=0;a<n;++a)if("<"==i[a]){n=a;break}for(;n>0;){var o=i[n-1];if("\0"===o)break;if(-1!=="?!.,".indexOf(o))n--;else{if(";"!==o)break;for(var u=n-2;u>0&&r(i[u]);)u--;u<n-2&&"&"==i[u]?n=u:n--}}if(0==n)return 0;switch(s=i[n-1]){case'"':c='"';break;case"'":c="'";break;case")":c="(";break;case"]":c="[";break;case"}":c="{"}if(0!=c){for(var f=0,h=0,g=0;g<n;)i[g]==c?h++:i[g]==s&&f++,g++;f!=h&&n--}return n}function w(e,n){var t,r=0;if(!l(e[0]))return 0;for(t=1;t<e.length-1;++t)if("."==e[t])r++;else if(!l(e[t])&&"-"!=e[t])break;return n?t:r?t:0}function x(e){var n,t=["http://","https://","ftp://","mailto://","/","git://","steam://","irc://","news://","mumble://","ssh://","ircs://","ts3server://","#"];for(n=0;n<t.length;++n){var l=t[n].length;if(e.length>l&&0==e.toLowerCase().indexOf(t[n])&&/[A-Za-z0-9#\/?]/.test(e[l]))return 1}return 0}function S(e){if(e)for(var n in e)n in this&&(this[n]=e[n])}function L(e,n){this.callbacks=e,this.context=n}function T(){return{nofollow:0,target:null,tocData:{headerCount:0,currentLevel:0,levelOffset:0},toc_id_prefix:null,html_element_whitelist:On,html_attr_whitelist:Dn,flags:0,link_attributes:function(e,n,t){t.nofollow&&(e.s+=' rel="nofollow"'),null!=t.target&&(e.s+=' target="'+t.target+'"')}}}function A(e){var n=T();n.flags=null==e?En:e;var t=new L(E(),n);return t.context.flags&He&&(t.callbacks.image=null),t.context.flags&Ke&&(t.callbacks.link=null,t.callbacks.autolink=null),(t.context.flags&ye||t.context.flags&Ue)&&(t.callbacks.blockhtml=null),t}function E(){return new S({blockcode:D,blockquote:O,blockhtml:M,header:y,hrule:I,list:H,listitem:K,paragraph:q,table:R,table_row:N,table_cell:P,autolink:U,codespan:B,double_emphasis:X,emphasis:z,image:F,linebreak:G,link:W,raw_html_tag:Z,triple_emphasis:j,strikethrough:J,superscript:Q,entity:null,normal_text:V,doc_header:null,doc_footer:ne})}function C(){return new S({blockcode:null,blockquote:null,blockhtml:null,header:$,hrule:null,list:null,listitem:null,paragraph:null,table:null,table_row:null,table_cell:null,autolink:null,codespan:B,double_emphasis:X,emphasis:z,image:null,linebreak:null,link:ee,raw_html_tag:null,triple_emphasis:j,strikethrough:J,superscript:Q,entity:null,normal_text:null,doc_header:null,doc_footer:te})}function D(e,n,l,r){if(e.s.length&&(e.s+="\n"),l&&l.s.length){var s,a;for(e.s+='<pre><code class="',s=0,a=0;s<l.s.length;++s,++a){for(;s<l.s.length&&t(l.s[s]);)s++;if(s<l.s.length){for(var i=s;s<l.s.length&&!t(l.s[s]);)s++;"."==l.s[i]&&i++,a&&(e.s+=" "),v(e,l.s.slice(i,s),!1)}}e.s+='">'}else e.s+="<pre><code>";n&&v(e,n.s,!1),e.s+="</code></pre>\n"}function O(e,n,t){e.s.length&&(e.s+="\n"),e.s+="<blockquote>\n",n&&(e.s+=n.s),e.s+="</blockquote>\n"}function M(e,n,t){var l,r;if(n){for(r=n.s.length;r>0&&"\n"==n.s[r-1];)r--;for(l=0;l<r&&"\n"==n.s[l];)l++;l>=r||(e.s.length&&(e.s+="\n"),e.s+=n.s.slice(l,r),e.s+="\n")}}function y(e,n,t,l){e.s.length&&(e.s+="\n"),l.flags&Re?(e.s+="<h"+ +t+' id="',l.toc_id_prefix&&(e.s+=l.toc_id_prefix),e.s+="toc_"+l.tocData.headerCount+++'">'):e.s+="<h"+ +t+">",n&&(e.s+=n.s),e.s+="</h"+ +t+">\n"}function I(e,n){e.s.length&&(e.s+="\n"),e.s+=n.flags&Pe?"<hr/>\n":"<hr>\n"}function H(e,n,t,l){e.s.length&&(e.s+="\n"),e.s+=t&re?"<ol>\n":"<ul>\n",n&&(e.s+=n.s),e.s+=t&re?"</ol>\n":"</ul>\n"}function K(e,n,t,l){if(e.s+="<li>",n){for(var r=n.s.length;r&&"\n"==n.s[r-1];)r--;e.s+=n.s.slice(0,r)}e.s+="</li>\n"}function q(e,n,l){var r=0;if(e.s.length&&(e.s+="\n"),n&&n.s.length){for(;r<n.s.length&&t(n.s[r]);)r++;if(r!=n.s.length){if(e.s+="<p>",l.flags&Ne)for(var s;r<n.s.length;){for(s=r;r<n.s.length&&"\n"!=n.data[r];)r++;if(r>s&&(e.s+=n.s.slice(s,r)),r>=n.s.length-1)break;G(e,l),r++}else e.s+=n.s.slice(r);e.s+="</p>\n"}}}function R(e,n,t,l){e.s.length&&(e.s+="\n"),e.s+="<table><thead>\n",n&&(e.s+=n.s),e.s+="</thead><tbody>\n",t&&(e.s+=t.s),e.s+="</tbody></table>\n"}function N(e,n,t){e.s+="<tr>\n",n&&(e.s+=n.s),e.s+="</tr>\n"}function P(e,n,t,l,r){switch(e.s+=t&We?"<th":"<td",r>1&&(e.s+=' colspan="'+r+'" '),t&Ge){case Fe:e.s+=' align="center">';break;case Xe:e.s+=' align="left">';break;case ze:e.s+=' align="right">';break;default:e.s+=">"}n&&(e.s+=n.s),e.s+=t&We?"</th>\n":"</td>\n"}function U(e,n,t,l){return n&&n.s.length&&(0==(l.flags&qe)||x(n.s)||t==Se)?(e.s+='<a href="',t==Se&&(e.s+="mailto:"),m(e,n.s.slice(0)),l.link_attributes?(e.s+='"',l.link_attributes(e,n,l),e.s+=">"):e.s+='">',0==n.s.indexOf("mailto:")?v(e,n.s.slice(7),!1):v(e,n.s,!1),e.s+="</a>",1):0}function B(e,n,t){return e.s+="<code>",n&&v(e,n.s,!1),e.s+="</code>",1}function X(e,n,t){return n&&n.s.length?(e.s+="<strong>"+n.s+"</strong>",1):0}function z(e,n,t){return n&&n.s.length?(e.s+="<em>"+n.s+"</em>",1):0}function F(e,n,t,l,r){return n&&n.s.length?(e.s+='<img src="',m(e,n.s),e.s+='" alt="',l&&l.s.length&&v(e,l.s,!1),t&&t.s.length&&(e.s+='" title="',v(e,t.s,!1)),e.s+=r.flags&Pe?'"/>':'">',1):0}function G(e,n){return e.s+=n.flags&Pe?"<br/>\n":"<br>\n",1}function W(e,n,t,l,r){return null==n||0==(r.flags&qe)||x(n.s)?(e.s+='<a href="',n&&n.s.length&&m(e,n.s),t&&t.s.length&&(e.s+='" title="',v(e,t.s,!1)),r.link_attributes?(e.s+='"',r.link_attributes(e,n,r),e.s+=">"):e.s+='">',l&&l.s.length&&(e.s+=l.s),e.s+="</a>",1):0}function Y(e,n,t,l,r,s){var a,i,c,o,u,f=0,h=0,g=0,p=0,k=0;if(e.s+="<",s!=je){e.s+=l;var b=1+l.length;for(c=new Je,o=new Je;b<n.s.length&&!g;b++){switch(g=0,k=0,p=0,u=n.s[b]){case">":g=1;break;case"'":case'"':h?f?f==u?(f=0,p=1):o.s+=u:f=u:k=1;break;case" ":f?o.s+=" ":k=1;break;case"=":if(h){k=1;break}h=1;break;default:(h&&f||!h)&&(h?o.s+=u:c.s+=u)}if(p){var d=0;for(i=0;r[i];i++)if(r[i].length==c.s.length){for(a=0;a<c.s.length&&r[i][a].toLowerCase()==c.s[a].toLowerCase();a++);if(a==c.s.length){d=1;break}}d&&o.s.length&&c.s.length&&(e.s+=" ",v(e,c.s,!1),e.s+='="',v(e,o.s,!1),e.s+='"'),k=1}k&&(h=0,f=0,c=new Je,o=new Je)}e.s+=">"}else e.s+="/"+l+">"}function Z(e,n,t){var l=t.html_element_whitelist;if(0!=(t.flags&Be)&&l)for(var r=0;l[r];r++){var s=u(n.s,l[r]);if(s!=Ye)return Y(e,n,0,l[r],t.html_attr_whitelist,s),1}return 0!=(t.flags&Ue)?(v(e,n.s,!1),1):0!=(t.flags&ye)?1:0!=(t.flags&Ie)&&u(n.s,"style")?1:0!=(t.flags&Ke)&&u(n.s,"a")?1:0!=(t.flags&He)&&u(n.s,"img")?1:(e.s+=n.s,1)}function j(e,n,t){return n&&n.s.length?(e.s+="<strong><em>"+n.s+"</em></strong>",1):0}function J(e,n,t){return n&&n.s.length?(e.s+="<del>"+n.s+"</del>",1):0}function Q(e,n,t){return n&&n.s.length?(e.s+="<sup>"+n.s+"</sup>",1):0}function V(e,n,t){n&&v(e,n.s,!1)}function $(e,n,t,l){if(0==l.tocData.currentLevel&&(e.s+='<div class="toc">\n',l.tocData.levelOffset=t-1),(t-=l.tocData.levelOffset)>l.tocData.currentLevel)for(;t>l.tocData.currentLevel;)e.s+="<ul>\n<li>\n",l.tocData.currentLevel++;else if(t<l.tocData.currentLevel){for(e.s+="</li>\n";t<l.tocData.currentLevel;)e.s+="</ul>\n</li>\n",l.tocData.currentLevel--;e.s+="<li>\n"}else e.s+="</li>\n<li>\n";e.s+='<a href="#',l.toc_id_prefix&&(e.s+=l.toc_id_prefix),e.s+="toc_"+l.tocData.headerCount+++'">',n&&v(e,n.s,!1),e.s+="</a>\n"}function ee(e,n,t,l,r){return l&&l.s&&(e.s+=l.s),1}function ne(e,n){n.tocData={headerCount:0,currentLevel:0,levelOffset:0}}function te(e,n){for(var t=!1;n.tocData.currentLevel>0;)e.s+="</li>\n</ul>\n",n.tocData.currentLevel--,t=!0;t&&(e.s+="</div>\n"),ne(0,n)}S.prototype={blockcode:null,blockquote:null,blockhtml:null,header:null,hrule:null,list:null,listitem:null,paragraph:null,table:null,table_row:null,table_cell:null,autolink:null,codespan:null,double_emphasis:null,emphasis:null,image:null,linebreak:null,link:null,raw_html_tag:null,triple_emphasis:null,strikethrough:null,superscript:null,entity:null,normal_text:null,doc_header:null,doc_footer:null},e.createCustomRenderer=function(e,n){return new L(e,n)},e.defaultRenderState=T,e.getRedditRenderer=A,e.getTocRenderer=function(){var e=T();return e.flags=Re|ye,new L(C(),e)},e.createCustomCallbacks=function(e){return new S(e)},e.getRedditCallbacks=E,e.getTocCallbacks=C;var le=[null,function(e,t,l,r){var s,a=l.slice(r),i=a.length,c=a[0];return i>2&&a[1]!=c?"~"==c||n(a[1])||0==(s=tn(e,t,a,c))?0:s+1:a.length>3&&a[1]==c&&a[2]!=c?n(a[2])||0==(s=ln(e,t,a,c))?0:s+2:a.length>4&&a[1]==c&&a[2]==c&&a[3]!=c?"~"==c||n(a[3])||0==(s=function(e,t,l,r){for(var s,a,i=l.slice(3),c=0;c<i.length;){if(!(s=nn(i.slice(c),r)))return 0;if(i[c+=s]==r&&!n(i[c-1])){if(c+2<i.length&&i[c+1]==r&&i[c+2]==r&&t.callbacks.triple_emphasis){var o=new Je;return t.spanStack.push(o),hn(o,t,i.slice(0,c)),a=t.callbacks.triple_emphasis(e,o,t.context),t.spanStack.pop(),a?c+3:0}return c+1<i.length&&i[c+1]==r?(s=tn(e,t,l,r))?s-2:0:(s=ln(e,t,l,r))?s-1:0}}return 0}(e,t,a,c))?0:s+3:0},function(e,n,t,l){for(var r,s,a,i,c=t.slice(l),o=0;o<c.length&&"`"==c[o];)o++;for(s=0,r=o;r<c.length&&s<o;r++)"`"==c[r]?s++:s=0;if(s<o&&r>=c.length)return 0;for(a=o;a<r&&" "==c[a];)a++;for(i=r-o;i>o&&" "==c[i-1];)i--;if(a<i){var u=new Je(c.slice(a,i));n.callbacks.codespan(e,u,n.context)||(r=0)}else n.callbacks.codespan(e,null,n.context)||(r=0);return r},function(e,n,t,l){if(t.slice(l),l<2||" "!=t[l-1]||" "!=t[l-2])return 0;for(var r=e.s.length;r&&" "==e.s[r-1];)r--;return e.s=e.s.slice(0,r),n.callbacks.linebreak(e,n.context)?1:0},function(e,t,l,r){var s,a,i=l.slice(r),c=r&&"!"==l[r-1],o=1,u=0,h=0,g=0,p=0,k=null,b=null,v=null,d=null,m=t.spanStack.length,_=0,w=0,x=0,S=0;function L(){return t.spanStack.length=m,w?o:0}if(c&&!t.callbacks.image||!c&&!t.callbacks.link)return L();for(s=1;o<i.length;o++)if("\n"==i[o])_=1;else{if("\\"==i[o-1])continue;if("["==i[o])s++;else if("]"==i[o]&&--s<=0)break}if(o>=i.length)return L();for(a=o,o++;o<i.length&&n(i[o]);)o++;if(o<i.length&&"("==i[o]){for(o++;o<i.length&&n(i[o]);)o++;for(u=o;o<i.length;)if("\\"==i[o])o+=2;else{if(")"==i[o])break;if(o>=1&&n(i[o-1])&&("'"==i[o]||'"'==i[o]))break;o++}if(o>=i.length)return L();if(h=o,"'"==i[o]||'"'==i[o]){for(S=i[o],x=1,g=++o;o<i.length;)if("\\"==i[o])o+=2;else if(i[o]==S)x=0,o++;else{if(")"==i[o]&&!x)break;o++}if(o>=i.length)return L();for(p=o-1;p>g&&n(i[p]);)p--;"'"!=i[p]&&'"'!=i[p]&&(g=p=0,h=o)}for(;h>u&&n(i[h-1]);)h--;"<"==i[u]&&u++,">"==i[h-1]&&h--,h>u&&(b=new Je,t.spanStack.push(b),b.s+=i.slice(u,h)),p>g&&(v=new Je,t.spanStack.push(v),v.s+=i.slice(g,p)),o++}else if(o<i.length&&"["==i[o]){var T=new Je,A=null;for(u=++o;o<i.length&&"]"!=i[o];)o++;if(o>=i.length)return L();if(u==(h=o))if(_){var E=new Je;for(t.spanStack.push(E),C=1;C<a;C++)"\n"!=i[C]?E.s+=i[C]:" "!=i[C-1]&&(E.s+=" ");T.s=E.s}else T.s=i.slice(1);else T.s=i.slice(u,h);if(!(A=t.refs[T.s]))return L();b=A.link,v=A.title,o++}else{if(T=new Je,A=null,_){var C;for(E=new Je,t.spanStack.push(E),C=1;C<a;C++)"\n"!=i[C]?E.s+=i[C]:" "!=i[C-1]&&(E.s+=" ");T.s=E.s}else T.s=i.slice(1,a);if(!(A=t.refs[T.s]))return L();b=A.link,v=A.title,o=a+1}return a>1&&(k=new Je,t.spanStack.push(k),c?k.s+=i.slice(1,a):(t.inLinkBody=1,hn(k,t,i.slice(1,a)),t.inLinkBody=0)),b?(d=new Je,t.spanStack.push(d),f(d,b),c?(e.s.length&&"!"==e.s[e.s.length-1]&&(e.s=e.s.slice(0,-1)),w=t.callbacks.image(e,d,v,k,t.context)):w=t.callbacks.link(e,d,v,k,t.context),L()):L()},function(e,n,t,r){var s=t.slice(r),a={p:we},i=function(e,n){var t,r;if(e.length<3)return 0;if("<"!=e[0])return 0;if(t="/"==e[1]?2:1,!l(e[t]))return 0;for(n.p=we;t<e.length&&(l(e[t])||"."==e[t]||"+"==e[t]||"-"==e[t]);)t++;if(t>1&&"@"==e[t]&&0!=(r=function(e){var n=0,t=0;for(n=0;n<e.length;++n)if(!l(e[n]))switch(e[n]){case"@":t++;case"-":case".":case"_":break;case">":return 1==t?n+1:0;default:return 0}return 0}(e.slice(t))))return n.p=Se,t+r;if(t>2&&":"==e[t]&&(n.p=xe,t++),t>=e.length)n.p=we;else if(n.p){for(r=t;t<e.length;)if("\\"==e[t])t+=2;else{if(">"==e[t]||"'"==e[t]||'"'==e[t]||" "==e[t]||"\n"==e[t])break;t++}if(t>=e.length)return 0;if(t>r&&">"==e[t])return t+1;n.p=we}for(;t<e.length&&">"!=e[t];)t++;return t>=e.length?0:t+1}(s,a),c=new Je(s.slice(0,i)),o=0;if(i>2)if(n.callbacks.autolink&&a.p!=we){var u=new Je;n.spanStack.push(u),c.s=s.substr(1,i-2),f(u,c),o=n.callbacks.autolink(e,u,a.p,n.context),n.spanStack.pop()}else n.callbacks.raw_html_tag&&(o=n.callbacks.raw_html_tag(e,c,n.context));return o?i:0},function(e,n,t,l){var r=t.slice(l),s=new Je;if(r.length>1){if(-1=="\\`*_{}[]()#+-.!:|&<>/^~".indexOf(r[1]))return 0;n.callbacks.normal_text?(s.s=r[1],n.callbacks.normal_text(e,s,n.context)):e.s+=r[1]}else 1==r.length&&(e.s+=r[0]);return 2},function(e,n,t,r){var i,c,o=t.slice(r),u=1,f=!1,k=!1,b=new Je;for(u<o.length&&"#"===o[u]&&(f=!0,u++),u<o.length&&f&&"x"===o[u].toLowerCase()&&(k=!0,u++),i=u;u<o.length;){var v=o[u];if(k){if(!a(v))break}else if(f){if(!s(v))break}else if(!l(v))break;u++}if(!(u>i&&u<o.length&&";"===o[u]))return 0;if(u++,f&&void 0-i>g)return 0;if(f){if(c=k?16:10,!function(e){return e>8&&11!==e&&e>12&&(e<14||e>31)&&(e<55296||e>57343)&&65534!==e&&65535!==e&&e<=h}(parseInt(o.slice(i),c)))return 0}else if(-1===p.indexOf(o.slice(0,u)))return 0;return n.callbacks.entity?(b.s=o.slice(0,u),n.callbacks.entity(e,b,n.context)):e.s+=o.slice(0,u),u},function(e,n,l,s){var a,i,c=l.slice(s),o={p:null};return!n.callbacks.autolink||n.inLinkBody?0:(a=new Je,n.spanStack.push(a),(i=function(e,n,l,s,a,i){var c,o,u=l.slice(s),f=0;if(a<4||"/"!=l[s+1]||"/"!=l[s+2])return 0;for(;f<s&&r(l[s-f-1]);)f++;if(!x(l.substr(s-f,a+f)))return 0;if(c="://".length,0==(o=w(u.slice(c),i&_e)))return 0;for(c+=o;c<a&&!t(l[s+c]);)c++;return 0==(c=_(l,c,s))?0:(n.s+=l.substr(s-f,c+f),e.p=f,c)}(o,a,l,s,c.length,0))>0&&(o.p>0&&e.truncate(e.s.length-o.p),n.callbacks.autolink(e,a,xe,n.context)),n.spanStack.pop(),i)},function(e,n,t,r){var s,a,i=t.slice(r),c={p:null};return!n.callbacks.autolink||n.inLinkBody?0:(s=new Je,n.spanStack.push(s),(a=function(e,n,t,r,s,a){t.slice(r);var i,c,o=0,u=0;for(c=0;c<r&&"\0"!=(f=t[r-c-1])&&(l(f)||-1!=".+-_".indexOf(f));++c);if(0==c)return 0;for(i=0;i<s;++i){var f;if(!l(f=t[r+i]))if("@"==f)o++;else if("."==f&&i<s-1)u++;else if("-"!=f&&"_"!=f)break}return i<2||1!=o||0==u?0:0==(i=_(t,i,r))?0:(n.s+=t.substr(r-c,i+c),e.p=c,i)}(c,s,t,r,i.length))>0&&(c.p>0&&e.truncate(e.s.length-c.p),n.callbacks.autolink(e,s,Se,n.context)),n.spanStack.pop(),a)},function(e,n,l,r){var s,a,c=l.slice(r),o=null,u=null,f={p:null};return!n.callbacks.link||n.inLinkBody?0:(s=new Je,n.spanStack.push(s),(a=function(e,n,l,r,s,a){var c,o=l.slice(r);if(r>0&&!i(l[r-1])&&!t(l[r-1]))return 0;if(s<4||"www."!=o.slice(0,4))return 0;if(0==(c=w(o,0)))return 0;for(;c<s&&!t(o[c]);)c++;return 0==(c=_(l,c,r))?0:(n.s+=o.slice(0,c),e.p=0,c)}(f,s,l,r,c.length))>0&&(o=new Je,n.spanStack.push(o),o.s+="http://",o.s+=s.s,f.p>0&&e.truncate(e.s.length-f.p),n.callbacks.normal_text?(u=new Je,n.spanStack.push(u),n.callbacks.normal_text(u,s,n.context),n.callbacks.link(e,o,null,u,n.context),n.spanStack.pop()):n.callbacks.link(e,o,null,s,n.context),n.spanStack.pop()),n.spanStack.pop(),a)},function(e,n,t,r){var s,a,i=t.slice(r),c={p:null};return!n.callbacks.autolink||n.inLinkBody?0:(s=new Je,n.spanStack.push(s),(a=function(e,n,t,r,s){var a,i=t.slice(r),c=!1;if(s<3)return 0;if(0!=i.indexOf("/r/"))return 0;a="/r/".length,"all-"==i.substr(a-1,4).toLowerCase()&&(c=!0);do{var o=a,u=24;if(s>=a+10&&"reddit.com"==i.substr(a,10).toLowerCase())a+=10,u=10;else{if(s>a+2&&"t:"==i.substr(a,2)&&(a+=2),!l(i[a]))return 0;a+=1}for(;a<s&&(l(i[a])||"_"==i[a]);)a++;if(a-o<2||a-o>u)return 0}while(a<s&&("+"==i[a]||c&&"-"==i[a])&&a++);if(a<s&&"/"==i[a])for(;a<s&&(l(i[a])||"_"==i[a]||"/"==i[a]||"-"==i[a]);)a++;return n.s+=i.slice(0,a),e.p=0,a}(c,s,t,r,i.length))>0?(c.p>0&&e.truncate(e.s.length-c.p),n.callbacks.autolink(e,s,xe,n.context)):(a=function(e,n,t,r,s){var a,i=t.slice(r);if(s<6)return 0;if(0!=i.indexOf("/u/"))return 0;if(!l(i[a="/u/".length])&&"_"!=i[a]&&"-"!=i[a])return 0;for(a+=1;a<s&&(l(i[a])||"_"==i[a]||"/"==i[a]||"-"==i[a]);)a++;return n.s+=i.slice(0,a),e.p=0,a}(c,s,t,r,i.length))>0&&(c.p>0&&e.truncate(e.s.length-c.p),n.callbacks.autolink(e,s,xe,n.context)),n.spanStack.pop(),a)},function(e,t,l,r){var s,a,i,c=l.slice(r),o=c.length;if(!t.callbacks.superscript)return 0;if(o<2)return 0;if("("==c[1]){for(s=a=2;a<o&&")"!=c[a]&&"\\"!=c[a-1];)a++;if(a==o)return 0}else for(s=a=1;a<o&&!n(c[a]);)a++;return a-s==0?2==s?3:0:(i=new Je,t.spanStack.push(i),hn(i,t,c.slice(s,a)),t.callbacks.superscript(e,i,t.context),t.spanStack.pop(),2==s?a+1:a)}],re=1,se=2,ae=8,ie=0,ce=(ie++,ie++),oe=ie++,ue=ie++,fe=ie++,he=ie++,ge=ie++,pe=ie++,ke=ie++,be=ie++,ve=ie++,de=ie++,me=ie++,_e=1;ie=0;var we=ie++,xe=ie++,Se=ie++,Le=1,Te=2,Ae=4,Ee=8,Ce=16,De=64,Oe=128,Me=256,ye=1,Ie=2,He=4,Ke=8,qe=32,Re=64,Ne=128,Pe=256,Ue=512,Be=1024,Xe=1,ze=2,Fe=3,Ge=3,We=4,Ye=0,Ze=1,je=2;function Je(e){this.s=e||""}function Qe(){this.spanStack=[],this.blockStack=[],this.extensions=Le|Oe|Ee|Ce|Te|Te;var e=A();this.context=e.context,this.callbacks=e.callbacks,this.inLinkBody=0,this.activeChars={},this.refs={},this.nestingLimit=16,this.maxTableCols=64}function Ve(e){var n;for(n=0;n<e.length&&"\n"!=e[n];n++)if(" "!=e[n])return 0;return n+1}function $e(e){var n,t=0,l=0;if(e.length<3)return 0;if(" "==e[0]&&(t++," "==e[1]&&(t++," "==e[2]&&t++)),t+2>=e.length||"*"!=e[t]&&"-"!=e[t]&&"_"!=e[t])return 0;for(n=e[t];t<e.length&&"\n"!=e[t];){if(e[t]==n)l++;else if(" "!=e[t])return 0;t++}return l>=3}function en(e,t){var l,r=0,s=0;if(0==(r=function(e){var n,t=0,l=0;if(e.length<3)return 0;if(" "==e[0]&&(t++," "==e[1]&&(t++," "==e[2]&&t++)),t+2>=e.length||"~"!=e[t]&&"`"!=e[t])return 0;for(n=e[t];t<e.length&&e[t]==n;)l++,t++;return l<3?0:t}(e)))return 0;for(;r<e.length&&" "==e[r];)r++;if(l=r,r<e.length&&"{"==e[r]){for(r++,l++;r<e.length&&"}"!=e[r]&&"\n"!=e[r];)s++,r++;if(r==e.length||"}"!=e[r])return 0;for(;s>0&&n(e[l+0]);)l++,s--;for(;s>0&&n(e[l+s-1]);)s--;r++}else for(;r<e.length&&!n(e[r]);)s++,r++;for(t&&(t.s=e.substr(l,s));r<e.length&&"\n"!=e[r];){if(!n(e[r]))return 0;r++}return r+1}function nn(e,n){for(var t=1;t<e.length;){for(;t<e.length&&e[t]!=n&&"`"!=e[t]&&"["!=e[t];)t++;if(t==e.length)return 0;if(e[t]==n)return t;if(t&&"\\"==e[t-1])t++;else if("`"==e[t]){for(var l,r=0,s=0;t<e.length&&"`"==e[t];)t++,r++;if(t>=e.length)return 0;for(l=0;t<e.length&&l<r;)s||e[t]!=n||(s=t),"`"==e[t]?l++:l=0,t++;if(t>=e.length)return s}else if("["==e[t]){var a;s=0;for(t++;t<e.length&&"]"!=e[t];)s||e[t]!=n||(s=t),t++;for(t++;t<e.length&&(" "==e[t]||"\n"==e[t]);)t++;if(t>=e.length)return s;switch(e[t]){case"[":a="]";break;case"(":a=")";break;default:if(s)return s;continue}for(t++;t<e.length&&e[t]!=a;)s||e[t]!=n||(s=t),t++;if(t>=e.length)return s;t++}}return 0}function tn(e,t,l,r){var s,a,c=l.slice(1),o=0;if(!t.callbacks.emphasis)return 0;for(c.length>1&&c[0]==r&&c[1]==r&&(o=1);o<c.length;){if(!(s=nn(c.slice(o),r)))return 0;if((o+=s)>=c.length)return 0;if(c[o]==r&&!n(c[o-1])){if(t.extensions&Le&&"_"==r&&o+1!=c.length&&!n(c[o+1])&&!i(c[o+1]))continue;var u=new Je;return t.spanStack.push(u),hn(u,t,c.slice(0,o)),a=t.callbacks.emphasis(e,u,t.context),t.spanStack.pop(),a?o+1:0}}return 0}function ln(e,t,l,r){var s,a,i=l.slice(2),c=0,o="~"==r?t.callbacks.strikethrough:t.callbacks.double_emphasis;if(!o)return 0;for(;c<i.length;){if(!(s=nn(i.slice(c),r)))return 0;if((c+=s)+1<i.length&&i[c]==r&&i[c+1]==r&&c&&!n(i[c-1])){var u=new Je;return t.spanStack.push(u),hn(u,t,i.slice(0,c)),a=o(e,u,t.context),t.spanStack.pop(),a?c+2:0}c++}return 0}function rn(e,n){if("#"!=n[0])return!1;if(e.extensions&De){for(var t=0;t<n.length&&t<6&&"#"==n[t];)t++;if(t<n.length&&" "!=n[t])return!1}return!0}function sn(e){var n=0,t=e.length;if("="==e[n]){for(n=1;n<t&&"="==e[n];n++);for(;n<t&&" "==e[n];)n++;return n>=t||"\n"==e[n]?1:0}if("-"==e[n]){for(n=1;n<t&&"-"==e[n];n++);for(;n<t&&" "==e[n];)n++;return n>=t||"\n"==e[n]?2:0}return 0}function an(e){for(var n=e.length,t=0;t<n&&"\n"!=e[t];)t++;return++t>=n?0:sn(e.slice(t))}function cn(e){var n=0,t=e.length;return n<t&&" "==e[n]&&n++,n<t&&" "==e[n]&&n++,n<t&&" "==e[n]&&n++,n<t&&">"==e[n]?n+1<t&&" "==e[n+1]?n+2:n+1:0}function on(e){return e.length>3&&" "==e[0]&&" "==e[1]&&" "==e[2]&&" "==e[3]?4:0}function un(e){var n=e.length,t=0;if(t<n&&" "==e[t]&&t++,t<n&&" "==e[t]&&t++,t<n&&" "==e[t]&&t++,t>=n||e[t]<"0"||e[t]>"9")return 0;for(;t<n&&e[t]>="0"&&e[t]<="9";)t++;return t+1>=n||"."!=e[t]||" "!=e[t+1]?0:an(e.slice(t))?0:t+2}function fn(e){var n=e.length,t=0;return t<n&&" "==e[t]&&t++,t<n&&" "==e[t]&&t++,t<n&&" "==e[t]&&t++,t+1>=n||"*"!=e[t]&&"+"!=e[t]&&"-"!=e[t]||" "!=e[t+1]?0:an(e.slice(t))?0:t+2}function hn(e,n,t){var l=0,r=0,s=0,a=new Je;if(!(n.spanStack.length+n.blockStack.length>n.nestingLimit))for(;l<t.length;){for(;r<t.length&&!(s=n.activeChars[t[r]]);)r++;if(n.callbacks.normal_text?(a.s=t.slice(l,r),n.callbacks.normal_text(e,a,n.context)):e.s+=t.slice(l,r),r>=t.length)break;l=r,r=(r=le[s](e,n,t,l))?l+=r:l+1}}function gn(e,n,t){for(var l,r,s,a=0;a<t.length&&a<6&&"#"==t[a];)a++;for(l=a;l<t.length&&" "==t[l];l++);for(r=l;r<t.length&&"\n"!=t[r];r++);for(s=r;r&&"#"==t[r-1];)r--;for(;r&&" "==t[r-1];)r--;if(r>l){var i=new Je;n.spanStack.push(i),hn(i,n,t.slice(l,r)),n.callbacks.header&&n.callbacks.header(e,i,a,n.context),n.spanStack.pop()}return s}function pn(e,n,t){var l,r;return e.length+3>=t.length||t.slice(2).toLowerCase()!=e||">"!=t[e.length+2]?0:(r=0,(l=e.length+3)<t.length&&0==(r=Ve(t.slice(l)))?0:(l+=r,r=0,l<t.length&&(r=Ve(t.slice(l))),l+r))}function kn(e,n,t,l){var r,s,a,i=0,c=null,o=new Je(t);if(t.length<2||"<"!=t[0])return 0;for(r=1;r<t.length&&">"!=t[r]&&" "!=t[r];)r++;if(r<t.length&&(a=t.slice(1),c=-1!=["p","dl","div","math","table","ul","del","form","blockquote","figure","ol","fieldset","h1","h6","pre","script","h5","noscript","style","iframe","h4","ins","h3","h2"].indexOf(a.toLowerCase())?a.toLowerCase():""),!c){if(t.length>5&&"!"==t[1]&&"-"==t[2]&&"-"==t[3]){for(r=5;r<t.length&&("-"!=t[r-2]||"-"!=t[r-1]||">"!=t[r]);)r++;if(++r<size&&(i=Ve(t.slice(r))),i)return o.s=t.slice(0,r+i),l&&n.callbacks.blockhtml&&n.callbacks.blockhtml(e,o,n.context),o.s.length}if(t.length>4&&("h"==t[1]||"H"==t[1])&&("r"==t[2]||"R"==t[2])){for(r=3;r<t.length&&">"!=t[r];)r++;if(r+1<t.length&&(r++,i=Ve(t.slice(r))))return o.s=t.slice(0,r+i),l&&n.callbacks.blockhtml&&n.callbacks.blockhtml(e,o,n.context),o.s.length}return 0}if(r=1,s=0,"ins"!=c&&"del"!=c){var u=c.length;for(r=1;r<t.length;){for(r++;r<t.length&&("<"!=t[r-1]||"/"!=t[r]);)r++;if(r+2+u>=t.length)break;if(i=pn(tag,0,t.slice(r-1))){r+=i-1,s=1;break}}}return s?(o.s=o.s.slice(0,r),l&&n.callbacks.blockhtml&&n.callbacks.blockhtml(e,o,n.context),r):0}function bn(e,n,t){var l,r,s=t.length,a=0,i="",c=new Je;for(n.blockStack.push(c),l=0;l<s;){for(a=l+1;a<s&&"\n"!=t[a-1];a++);if(r=cn(t.slice(l,a)))l+=r;else if(Ve(t.slice(l,a))&&(a>=s||0==cn(t.slice(a))&&!Ve(t.slice(a))))break;l<a&&(i+=t.slice(l,a),a-l),l=a}return Ln(c,n,i),n.callbacks.blockquote&&n.callbacks.blockquote(e,c,n.context),n.blockStack.pop(),a}function vn(e,n,t){for(var r=0,s=0,a=0,i=t.length,c=new Je(t);r<i;){for(s=r+1;s<i&&"\n"!=t[s-1];s++);if(0!=cn(t.slice(r,s))){s=r;break}var o=t.slice(r);if(Ve(o)||0!=(a=sn(o)))break;if(Ve(o))break;if(0!=(a=sn(o)))break;if(rn(n,o)||$e(o)||cn(o)){s=r;break}if(n.extensions&Me&&!l(t[r])){if(un(o)||fn(o)){s=r;break}if("<"==t[r]&&n.callbacks.blockhtml&&kn(e,n,o,0)){s=r;break}if(0!=(n.extensions&&Ae)&&0!=en(o,null)){s=r;break}}r=s}for(var u=r;u&&"\n"==t[u-1];)u--;if(c.s=c.s.slice(0,u),a){var f;if(c.size){var h;for(r=c.s.length;u&&"\n"!=t[u];)u-=1;for(h=u+1;u&&"\n"==t[u-1];)u-=1;if(c.s=c.s.slice(0,u),u>0){g=new Je;n.blockStack.push(g),hn(g,n,c.s),n.callbacks.paragraph&&n.callbacks.paragraph(e,g,n.context),n.blockStack.pop(),c.s=c.s.slice(h,r)}else c.s=c.s.slice(0,r)}f=new Je,n.spanStack.push(f),hn(f,n,c.s),n.callbacks.header&&n.callbacks.header(e,f,a,n.context),n.spanStack.pop()}else{var g=new Je;n.blockStack.push(g),hn(g,n,c.s),n.callbacks.paragraph&&n.callbacks.paragraph(e,g,n.context),n.blockStack.pop()}return s}function dn(e,n,t){var l,r,s=null,a=new Je;if(0==(l=en(t,a)))return 0;for(s=new Je,n.blockStack.push(s);l<t.length;){var i,c=new Je;if(0!=(i=en(t.slice(l),c))&&0==c.s.length){l+=i;break}for(r=l+1;r<t.length&&"\n"!=t[r-1];r++);if(l<r){var o=t.slice(l,r);Ve(o)?s.s+="\n":s.s+=o}l=r}return s.s.length&&"\n"!=s.s[s.s.length-1]&&(s.s+="\n"),n.callbacks.blockcode&&n.callbacks.blockcode(e,s,a.s.length?a:null,n.context),n.blockStack.pop(),l}function mn(e,n,t){var l,r,s,a=t.length,i=null;for(n.blockStack.push(i=new Je),l=0;l<a;){for(r=l+1;r<a&&"\n"!=t[r-1];r++);if(s=on(t.slice(l,r)))l+=s;else if(!Ve(t.slice(l,r)))break;l<r&&(Ve(t.slice(l,r))?i.s+="\n":i.s+=t.slice(l,r)),l=r}for(var c=i.s.length;c&&"\n"==i.s[c-1];)c-=1;return i.s=i.s.slice(0,c),i.s+="\n",n.callbacks.blockcode&&n.callbacks.blockcode(e,i,null,n.context),n.blockStack.pop(),l}function _n(e,n,t,l){for(var r,s,a,i,c=t.length,o=null,u=0,f=0,h=0,g=0,p=0,k=0;h<3&&h<c&&" "==t[h];)h++;if((u=fn(t))||(u=un(t)),!u)return 0;for(s=u;s<c&&"\n"!=t[s-1];)s++;for(n.spanStack.push(o=new Je),n.spanStack.push(r=new Je),o.s+=t.slice(u,s),u=s;u<c;){var b,v;for(s++;s<c&&"\n"!=t[s-1];)s++;if(Ve(t.slice(u,s)))g=1,u=s;else{for(i=0;i<4&&u+i<s&&" "==t[u+i];)i++;if(a=i,n.flags&Ae&&0!=en(t.slice(u+i,s),null)&&(k=!k),k||(b=fn(t.slice(u+i,s)),v=un(t.slice(u+i,s))),g&&(l.p&re&&b||!(l.p&re)&&v)){l.p|=ae;break}if(b&&!$e(t.slice(u+i,s))||v){if(g&&(p=1),a==h)break;f||(f=o.s.length)}else{if(g&&0==a){l.p|=ae;break}g&&(o.s+="\n",p=1)}g=0,o.s+=t.slice(u+i,s),u=s}}return p&&(l.p|=se),l.p&se?f&&f<o.s.length?(Ln(r,n,o.s.slice(0,f)),Ln(r,n,o.s.slice(f))):Ln(r,n,o.s):f&&f<o.s.length?(hn(r,n,o.s.slice(0,f)),Ln(r,n,o.s.slice(f))):hn(r,n,o.s),n.callbacks.listitem&&n.callbacks.listitem(e,r,l.p,n.context),n.spanStack.pop(),n.spanStack.pop(),u}function wn(e,n,t,l){var r,s,a=t.length,i=0;for(n.blockStack.push(s=new Je);i<a;){var c={p:l};if(r=_n(s,n,t.slice(i),c),l=c.p,i+=r,!r||l&ae)break}return n.callbacks.list&&n.callbacks.list(e,s,l,n.context),n.blockStack.pop(),i}function xn(e,t,l,r,s){var a,i,c,o=0;if(t.callbacks.table_cell&&t.callbacks.table_row){for(t.spanStack.push(c=new Je),o<l.length&&"|"==l[o]&&o++,a=0;a<r.length&&o<l.length;++a){var u,f,h;for(t.spanStack.push(h=new Je);o<l.length&&n(l[o]);)o++;for(u=o;o<l.length&&"|"!=l[o];)o++;for(f=o-1;f>u&&n(l[f]);)f--;hn(h,t,l.slice(u,1+f)),t.callbacks.table_cell(c,h,r[a]|s,t.context,0),t.spanStack.pop(),o++}if((i=r.length-a)>0){t.callbacks.table_cell(c,null,r[a]|s,t.context,i)}t.callbacks.table_row(e,c,t.context),t.spanStack.pop()}}function Sn(e,t,l){var r,s,a,i={p:null};if(t.spanStack.push(s=new Je),t.blockStack.push(a=new Je),(r=function(e,t,l,r){for(var s,a,i,c=0,o=0;c<l.length&&"\n"!=l[c];)"|"==l[c++]&&o++;if(c==l.length||0==o)return 0;for(a=c;a>0&&n(l[a-1]);)a--;if("|"==l[0]&&o--,a&&"|"==l[a-1]&&o--,o+1>t.maxTableCols)return 0;r.p=new Array(o+1);for(var u=0;u<r.p.length;u++)r.p[u]=0;for(++c<l.length&&"|"==l[c]&&c++,i=c;i<l.length&&"\n"!=l[i];)i++;for(s=0;s<r.p.length&&c<i;++s){for(var f=0;c<i&&" "==l[c];)c++;for(":"==l[c]&&(c++,r.p[s]|=Xe,f++);c<i&&"-"==l[c];)c++,f++;for(c<i&&":"==l[c]&&(c++,r.p[s]|=ze,f++);c<i&&" "==l[c];)c++;if(c<i&&"|"!=l[c])break;if(f<1)break;c++}return s<r.p.length?0:(xn(e,t,l.slice(0,a),r.p,We),i+1)}(s,t,l,i))>0){for(;r<l.length;){var c,o=0;for(c=r;r<l.length&&"\n"!=l[r];)"|"==l[r++]&&o++;if(0==o||r==l.length){r=c;break}xn(a,t,l.slice(c,r),i.p,0),r++}t.callbacks.table&&t.callbacks.table(e,s,a,t.context)}return t.spanStack.pop(),t.blockStack.pop(),r}function Ln(e,n,t){var l,r,s=0;if(!(n.spanStack.length+n.blockStack.length>n.nestingLimit))for(;s<t.length;)if(r=t.slice(s),t.length-s,rn(n,r))s+=gn(e,n,r);else if("<"==t[s]&&n.callbacks.blockhtml&&0!=(l=kn(e,n,r,1)))s+=l;else if(0!=(l=Ve(r)))s+=l;else if($e(r)){for(n.callbacks.hrule&&n.callbacks.hrule(e,n.context);s<t.length&&"\n"!=t[s];)s++;s++}else 0!=(n.extensions&Ae)&&0!=(l=dn(e,n,r))?s+=l:0!=(n.extensions&Te)&&0!=(l=Sn(e,n,r))?s+=l:cn(r)?s+=bn(e,n,r):on(r)?s+=mn(e,n,r):fn(r)?s+=wn(e,n,r,0):un(r)?s+=wn(e,n,r,re):s+=vn(e,n,r)}function Tn(e,n,t,l){var r,s,a,i,c,o,u,f=0;if(n+3>=t)return 0;if(" "==e[n]&&(f=1," "==e[n+1]&&(f=2," "==e[n+2]&&(f=3," "==e[n+3]))))return 0;if("["!=e[f+=n])return 0;for(r=++f;f<t&&"\n"!=e[f]&&"\r"!=e[f]&&"]"!=e[f];)f++;if(f>=t||"]"!=e[f])return 0;if(s=f,++f>=t||":"!=e[f])return 0;for(f++;f<t&&" "==e[f];)f++;for(f<t&&("\n"==e[f]||"\r"==e[f])&&++f<t&&"\r"==e[f]&&"\n"==e[f-1]&&f++;f<t&&" "==e[f];)f++;if(f>=t)return 0;for("<"==e[f]&&f++,a=f;f<t&&" "!=e[f]&&"\n"!=e[f]&&"\r"!=e[f];)f++;for(i=">"==e[f-1]?f-1:f;f<t&&" "==e[f];)f++;if(f<t&&"\n"!=e[f]&&"\r"!=e[f]&&"'"!=e[f]&&'"'!=e[f]&&"("!=e[f])return 0;if(u=0,(f>=t||"\r"==e[f]||"\n"==e[f])&&(u=f),f+1<t&&"\n"==e[f]&&"\r"==e[f+1]&&(u=f+1),u)for(f=u+1;f<t&&" "==e[f];)f++;if(c=o=0,f+1<t&&("'"==e[f]||'"'==e[f]||"("==e[f])){for(c=++f;f<t&&"\n"!=e[f]&&"\r"!=e[f];)f++;for(o=f+1<t&&"\n"==e[f]&&"\r"==e[f+1]?f+1:f,f-=1;f>c&&" "==e[f];)f-=1;f>c&&("'"==e[f]||'"'==e[f]||")"==e[f])&&(u=o,o=f)}if(!u||i==a)return 0;var h=e.slice(r,s),g=e.slice(a,i),p=null;return o>c&&(p=e.slice(c,o)),l.refs[h]={id:h,link:new Je(g),title:new Je(p)},u}function An(e,n){for(var t=0,l=0;t<n.length;){for(var r=t;t<n.length&&"\t"!=n[t];)t++,l++;if(t>r&&(e.s+=n.slice(r,t)),t>=n.length)break;do{e.s+=" ",l++}while(l%4);t++}}Je.prototype.truncate=function(e){if(this.s.length<e)throw new RangeError("Buffer smaller than desired size");if(e<0)throw new RangeError("Size argument is negative");this.s=this.s.slice(0,e)},Qe.prototype.render=function(e){var n,t=new Je,l=0;for(this.refs={};l<e.length;)if(n=Tn(e,l,e.length,this))l=n;else{for(n=l;n<e.length&&"\n"!=e[n]&&"\r"!=e[n];)n++;for(n>l&&An(t,e.slice(l,n));n<e.length&&("\n"==e[n]||"\r"==e[n]);)("\n"==e[n]||n+1<e.length&&"\n"!=e[n+1])&&(t.s+="\n"),n++;l=n}var r=new Je;return this.callbacks.doc_header&&this.callbacks.doc_header(r,this.context),t.s.length&&("\n"!=t.s[t.s.length-1]&&"\r"!=t.s[t.s.length-1]&&(t.s+="\n"),Ln(r,this,t.s)),this.callbacks.doc_footer&&this.callbacks.doc_footer(r,this.context),r.s},e.getParser=function(e,n,t,l){var r=new Qe;e&&(r.callbacks=e.callbacks),t&&(r.nestingLimit=t),t&&(r.maxTableCols=l),e&&(r.context=e.context),null!=n&&null!=n&&(r.extensions=n);var s=r.callbacks;return(s.emphasis||s.double_emphasis||s.triple_emphasis)&&(r.activeChars["*"]=ce,r.activeChars._=ce,r.extensions&Ce&&(r.activeChars["~"]=ce)),s.codespan&&(r.activeChars["`"]=oe),s.linebreak&&(r.activeChars["\n"]=ue),(s.image||s.link)&&(r.activeChars["["]=fe),r.activeChars["<"]=he,r.activeChars["\\"]=ge,r.activeChars["&"]=pe,r.extensions&Ee&&(512&r.extensions||(r.activeChars["@"]=be),r.activeChars[":"]=ke,r.activeChars.w=ve,r.activeChars["/"]=de),r.extensions&Oe&&(r.activeChars["^"]=me),r};var En=ye|He|qe|Ue|Pe,Cn=ye|qe|Be|Ue|Pe,Dn=["colspan","rowspan","cellspacing","cellpadding","scope"],On=["tr","th","td","table","tbody","thead","tfoot","caption"];e.DEFAULT_HTML_ELEMENT_WHITELIST=On,e.DEFAULT_HTML_ATTR_WHITELIST=Dn,e.DEFAULT_BODY_FLAGS=En,e.DEFAULT_WIKI_FLAGS=Cn,e.HTML_SKIP_HTML=ye,e.HTML_SKIP_STYLE=Ie,e.HTML_SKIP_IMAGES=He,e.HTML_SKIP_LINKS=Ke,e.HTML_EXPAND_TABS=16,e.HTML_SAFELINK=qe,e.HTML_TOC=Re,e.HTML_HARD_WRAP=Ne,e.HTML_USE_XHTML=Pe,e.HTML_ESCAPE=Ue,e.HTML_ALLOW_ELEMENT_WHITELIST=Be,e.MKDEXT_NO_INTRA_EMPHASIS=Le,e.MKDEXT_TABLES=Te,e.MKDEXT_FENCED_CODE=Ae,e.MKDEXT_AUTOLINK=Ee,e.MKDEXT_STRIKETHROUGH=Ce,e.MKDEXT_SPACE_HEADERS=De,e.MKDEXT_SUPERSCRIPT=Oe,e.MKDEXT_LAX_SPACING=Me,e.MKDEXT_NO_EMAIL_AUTOLINK=512,e.SD_AUTOLINK_SHORT_DOMAINS=_e,e.MKDA_NOT_AUTOLINK=we,e.MKDA_NORMAL=xe,e.MKDA_EMAIL=Se,"function"==typeof define&&define("snuownd",[],e)}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window.SnuOwnd={}:{});